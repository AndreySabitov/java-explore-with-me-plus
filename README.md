# Explore with me
### Описание
Приложение - афиша, в котором можно предложить какое-либо событие от выставки до похода в кино и собрать компанию для 
участия в нём

### Особенности:
* Сервис разделен на 2 части:
  * Основной сервис - содержит основную логику приложения
  * Сервис статистики - хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения
* API основного сервиса разделён на три части:
  * Публичная доступна без регистрации любому пользователю сети
  * Закрытая доступна только авторизованным пользователям
  * Административная — для администраторов сервиса

### Основная функциональность:
* Публичный API предоставляет возможности поиска и фильтрации событий
* Закрытая часть API реализует возможности зарегистрированных пользователей продукта:
  * Возможность добавлять в приложение новые мероприятия, редактировать их и просматривать после добавления
  * Возможность подачи заявок на участие в интересующих мероприятиях
  * Возможность подтверждать заявки других пользователей создателем мероприятия
* Административная часть API предоставляет возможности настройки и поддержки работы сервиса:
  * Возможность добавления, изменения и удаления категорий для событий
  * Возможность добавлять, удалять и закреплять на главной странице подборки мероприятий
  * Возможность модерации событий, размещённых пользователями — публикация или отклонение
  * Управление пользователями — добавление, активация, просмотр и удаление

### Технологии:
* Java 21
* Spring Boot 3.3.0
* Maven
* PostgreSQL
* Spring Data JPA
* Hibernate ORM
* Docker

### Спецификация API:
* [Основной сервис](ewm-main-service-spec.json)
* [Сервис статистики](ewm-stats-service-spec.json)

### Функциональность "комментарии"

1. Добавлена возможность оставлять комментарии к событиям 
2. Реализована возможность ставить лайки комментариям

### Особенности:
1. При создании события можно отключить возможность комментирования
2. Оставлять комментарии могут только авторизованные пользователи
3. Комментировать можно только опубликованные события
4. Администратор может запретить комментировать определенному пользователю определенное событие
5. Не авторизованные пользователи могут только просматривать комментарии к событию

### Public: 
1. Получение комментариев к событию: GET /comments/{eventId}
### Private:
1. Добавление нового комментария: POST /users/{userId}/comments
2. Редактирование комментария: PATCH /users/{userId}/comments/{commentId}
3. Удаление комментария: DELETE /users/{userId}/comments/{commentId}
4. Поставить лайк комментарию: PUT /users/{userId}/comments/{commentId}/like
5. Удалить лайк у комментария: DELETE /users/{userId}/comments/{commentId}/like
### Admin:
1. Запретить пользователю комментировать событие: PUT /admin/comments/ban/{userId}
2. Вернуть пользователю возможность комментировать событие: DELETE /admin/comments/ban/{userId}
3. Удалить комментарий: DELETE /admin/comments/{commentId}

### Для запуска проекта необходимо:
* Клонировать репозиторий
* Убедиться, что у вас установлен Docker и Docker Compose
* Собрать проект:
```
mvn clean package
```
* Запустить все сервисы с помощью команды:
```
docker-compose up -d
```

### Планы по развитию:
* Добавить сетевой шлюз, который контактирует с системой аутентификации и авторизации, а затем перенаправляет запрос в 
сервисы
